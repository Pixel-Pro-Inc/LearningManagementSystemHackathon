<header>
  <app-nav></app-nav>
</header>
<body>
  <div class="container-side">
    <aside class="sidebar" id="sidebar">
      <button class="sidebar-button" (click)="sidebarToggle()">
        <svg class="sidebar-button-icon" viewBox="0 0 384.97 384.97">
          <g>
            <g id="Menu">
              <path
                d="M12.03,84.212h360.909c6.641,0,12.03-5.39,12.03-12.03c0-6.641-5.39-12.03-12.03-12.03H12.03    C5.39,60.152,0,65.541,0,72.182C0,78.823,5.39,84.212,12.03,84.212z"
              />
              <path
                d="M372.939,180.455H12.03c-6.641,0-12.03,5.39-12.03,12.03s5.39,12.03,12.03,12.03h360.909c6.641,0,12.03-5.39,12.03-12.03    S379.58,180.455,372.939,180.455z"
              />
              <path
                d="M372.939,300.758H12.03c-6.641,0-12.03,5.39-12.03,12.03c0,6.641,5.39,12.03,12.03,12.03h360.909    c6.641,0,12.03-5.39,12.03-12.03C384.97,306.147,379.58,300.758,372.939,300.758z"
              />
            </g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
          </g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
          <g></g>
        </svg>
      </button>
      <div class="sidebar-header">
        <p class="sidebar-header-text">Users and Groups</p>
        <form
          [formGroup]="userSearchForm"
          (ngSubmit)="userSearchForm.valid && searchUser()"
          class="sidebar-header-form"
        >
          <app-msg-input
            [type]="'text'"
            id="'cont'"
            [formControl]="userSearchForm.controls['username']"
            [label]="'username'"
            [placeholder]="'Search'"
          ></app-msg-input>
          <button type="submit" class="search-btn">
            <svg class="search-icon" viewBox="0 0 487.95 487.95">
              <g>
                <g>
                  <path
                    d="M481.8,453l-140-140.1c27.6-33.1,44.2-75.4,44.2-121.6C386,85.9,299.5,0.2,193.1,0.2S0,86,0,191.4s86.5,191.1,192.9,191.1    c45.2,0,86.8-15.5,119.8-41.4l140.5,140.5c8.2,8.2,20.4,8.2,28.6,0C490,473.4,490,461.2,481.8,453z M41,191.4    c0-82.8,68.2-150.1,151.9-150.1s151.9,67.3,151.9,150.1s-68.2,150.1-151.9,150.1S41,274.1,41,191.4z"
                  />
                </g>
              </g>
              <g></g>
              <g></g>
              <g></g>
              <g></g>
              <g></g>
              <g></g>
              <g></g>
              <g></g>
              <g></g>
              <g></g>
              <g></g>
              <g></g>
              <g></g>
              <g></g>
              <g></g>
            </svg>
          </button>
        </form>
      </div>
      <div class="middle-sidebar">
        <ul class="sidebar-list">
          <ng-container *ngFor="let user of usersList">
            <li
              (click)="startChat(user)"
              [ngClass]="user.selected ? 'active' : ''"
              class="sidebar-list-item"
            >
              <a class="sidebar-link">
                <div class="sidebar-icon-holder">
                  <img
                    src="{{ user.avatarUrl }}"
                    alt="Avatar"
                    class="sidebar-icon"
                  />
                  <div
                    style="display: none"
                    class="sidebar-icon-notification"
                  ></div>
                </div>
                <div class="sidebar-link-text hidden-sidebar">
                  {{ user.firstNames }} {{ user.lastName }} ({{
                    user.organizationId
                  }})
                </div>
              </a>
            </li>
          </ng-container>
        </ul>
      </div>
    </aside>
    <main class="content" id="content">
      <article id="Announcements">
        <h2 class="mt-3">Announcements</h2>
        <div class="content-container">
          <div class="header">
            <h3>
              <svg viewBox="0 0 493.546 493.546" class="article-icon">
                <g>
                  <path
                    d="M226.078,157.206c26.286,0,47.604-21.314,47.604-47.609s-21.317-47.611-47.604-47.611   c-26.303,0-47.618,21.316-47.618,47.611S199.775,157.206,226.078,157.206z"
                  />
                  <path
                    d="M271.949,69.824c1.192,1.191,2.764,1.787,4.32,1.787c1.558,0,3.129-0.596,4.305-1.787l47.937-47.92   c2.383-2.383,2.398-6.242,0.016-8.625c-2.382-2.382-6.274-2.382-8.624,0L271.966,61.2   C269.583,63.582,269.567,67.442,271.949,69.824z"
                  />
                  <path
                    d="M261.959,59.421c0.89,0.469,1.858,0.691,2.812,0.691c2.192,0,4.32-1.199,5.417-3.288l24.92-47.921   c1.557-2.986,0.382-6.671-2.604-8.219c-2.906-1.541-6.64-0.397-8.228,2.597l-24.921,47.92   C257.798,54.188,258.973,57.872,261.959,59.421z"
                  />
                  <path
                    d="M282.353,79.823c1.096,2.088,3.225,3.288,5.416,3.288c0.953,0,1.922-0.223,2.812-0.691l47.936-24.921   c2.986-1.549,4.161-5.233,2.604-8.22c-1.572-3.002-5.289-4.153-8.228-2.597l-47.936,24.921   C281.972,73.152,280.797,76.837,282.353,79.823z"
                  />
                  <path
                    d="M396.061,88.515l-78.192,12.148c-5.178,0.801-9.006,5.265-9.006,10.513v15.472c0,5.249,3.828,9.713,9.006,10.515   l7.449,1.157v21.644c0,3.104,1.08,5.852,2.56,8.348l-18.809,26.373l-22.459-15.145c-7.577-5.099-16.884-7.14-25.524-7.712   l-72.698,0.389l-48.365-22.142l-31.465-67.211c-4.749-10.189-16.837-14.549-27.034-9.8c-10.165,4.765-14.549,16.868-9.783,27.034   l34.625,73.969c2.033,4.368,5.56,7.862,9.943,9.871l57.369,26.27v261.458c0,12.087,9.802,21.879,21.874,21.879   c12.085,0,21.887-9.792,21.887-21.879V340.922h17.28v130.745c0,12.08,9.801,21.871,21.872,21.871   c12.088,0,21.871-9.791,21.871-21.871V223.09l24.286,16.377c3.494,2.351,7.449,3.479,11.356,3.479   c6.354,0,12.611-2.97,16.566-8.529l35.88-50.318c1.882-2.634,2.849-5.567,3.332-8.558c6.381-2.364,10.995-8.385,10.995-15.577   v-13.012l15.185,2.359c-4.206-10.775-4.859-24.383-4.859-30.399C391.203,112.897,391.855,99.29,396.061,88.515z M368.679,159.963   c0,0.98-0.512,1.774-1.043,2.518c-1.424-2.566-3.284-4.917-5.834-6.735c-7.559-5.408-17.37-4.586-24.286,0.94v-16.471l31.163,4.841   V159.963z"
                  />
                  <path
                    d="M413.567,85.795c-5.608,0-10.165,14.827-10.165,33.116c0,18.29,4.557,33.118,10.165,33.118   c5.607,0,10.165-14.829,10.165-33.118C423.732,100.622,419.174,85.795,413.567,85.795z"
                  />
                </g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
              </svg>
              Information
            </h3>
            <hr />
          </div>
          <div class="announcement-content-container">
            <div class="news-card">
              <div class="card-header">
                <p class="card-title">General</p>
              </div>
              <div class="card-content">
                <h4>Holiday</h4>
                <hr class="card-rule" />
                <p class="card-text">
                  School will be closed from the 19th of March to the 27 of
                  March for the mid-term holidays.
                </p>
                <button class="card-btn">Archive</button>
              </div>
            </div>
          </div>
        </div>
      </article>
      <article id="MyCourses">
        <h2>My Courses</h2>
        <div class="content-container">
          <div class="header">
            <h3>
              <svg viewBox="0 0 97.056 97.056" class="article-icon">
                <g>
                  <g>
                    <path
                      d="M86.021,43.476L49.929,57.239L13.838,43.675l-2.056,18.832c-0.096,0.774,0.175,1.549,0.732,2.095    c0.558,0.545,1.337,0.799,2.109,0.688c1.976-0.288,3.997-0.434,6.005-0.434c11.994,0,22.726,5.081,26.705,12.643    c0.432,0.822,1.284,1.336,2.212,1.336h0.766c0.928,0,1.78-0.514,2.212-1.335c3.98-7.562,14.711-12.643,26.703-12.643    c2.013,0,4.034,0.146,6.007,0.434c0.121,0.019,0.374,0.025,0.381,0.026c1.381,0,2.602-1.039,2.5-2.5    C88.1,62.602,86.021,43.476,86.021,43.476z"
                    />
                    <path
                      d="M95.436,29.301L50.809,12.505c-0.568-0.214-1.193-0.214-1.762,0L4.306,29.345c-0.974,0.367-1.619,1.299-1.619,2.34V62.09    h5.609V35.441l40.752,15.337c0.568,0.214,1.192,0.214,1.762,0l44.627-16.797c0.974-0.367,1.619-1.299,1.619-2.34    S96.409,29.668,95.436,29.301z"
                    />
                    <path
                      d="M0.014,81.949c-0.074,0.705,0.154,1.408,0.628,1.935C1.116,84.41,1.791,84.71,2.5,84.71h5.982    c0.708,0,1.384-0.301,1.858-0.827s0.703-1.229,0.628-1.935L9.335,66.445h-7.69L0.014,81.949z"
                    />
                  </g>
                </g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
              </svg>
              Assigned Courses
            </h3>
            <hr />
          </div>
          <div class="course-content-container">
            <div class="course-card">
              <div class="card-header">
                <p class="card-title">MGL 201</p>
              </div>
              <div class="card-content">
                <h4>Intermediate Supply Chain Topics</h4>
                <hr class="card-rule" />
                <p class="card-text">
                  This is a course synopsis example to see how it will look on
                  the card.
                </p>
                <button class="card-btn">View & Edit</button>
              </div>
            </div>
          </div>
        </div>
      </article>
      <article id="Calendar">
        <h2>My Calendar</h2>
        <div class="content-container">
          <div class="header">
            <h3>
              <svg viewBox="0 0 489.2 489.2" class="article-icon">
                <g>
                  <g>
                    <path
                      d="M177.8,238.1c0,4.5-3.6,8.1-8.1,8.1h-30.4c-4.5,0-8.1-3.6-8.1-8.1v-30.4c0-4.5,3.6-8.1,8.1-8.1h30.4    c4.5,0,8.1,3.6,8.1,8.1V238.1z M241.3,207.8c0-4.5-3.6-8.1-8.1-8.1h-30.4c-4.5,0-8.1,3.6-8.1,8.1v30.4c0,4.5,3.6,8.1,8.1,8.1h30.4    c4.5,0,8.1-3.6,8.1-8.1V207.8z M304.8,207.8c0-4.5-3.6-8.1-8.1-8.1h-30.4c-4.5,0-8.1,3.6-8.1,8.1v30.4c0,4.5,3.6,8.1,8.1,8.1h30.4    c4.5,0,8.1-3.6,8.1-8.1V207.8z M177.8,269.6c0-4.5-3.6-8.1-8.1-8.1h-30.4c-4.5,0-8.1,3.6-8.1,8.1V300c0,4.5,3.6,8.1,8.1,8.1h30.4    c4.5,0,8.1-3.6,8.1-8.1V269.6z M241.3,269.6c0-4.5-3.6-8.1-8.1-8.1h-30.4c-4.5,0-8.1,3.6-8.1,8.1V300c0,4.5,3.6,8.1,8.1,8.1h30.4    c4.5,0,8.1-3.6,8.1-8.1V269.6z M296.7,261.5h-30.4c-4.5,0-8.1,3.6-8.1,8.1V300c0,4.5,3.6,8.1,8.1,8.1h30.4c4.5,0,8.1-3.6,8.1-8.1    v-30.4C304.8,265.1,301.2,261.5,296.7,261.5z M106.1,323.3H75.8c-4.5,0-8.1,3.6-8.1,8.1v30.4c0,4.5,3.6,8.1,8.1,8.1h30.4    c4.5,0,8.1-3.6,8.1-8.1v-30.4C114.3,326.9,110.6,323.3,106.1,323.3z M114.3,269.6c0-4.5-3.6-8.1-8.1-8.1H75.8    c-4.5,0-8.1,3.6-8.1,8.1V300c0,4.5,3.6,8.1,8.1,8.1h30.4c4.5,0,8.1-3.6,8.1-8.1V269.6z M233.2,323.3h-30.4c-4.5,0-8.1,3.6-8.1,8.1    v30.4c0,4.5,3.6,8.1,8.1,8.1h30.4c4.5,0,8.1-3.6,8.1-8.1v-30.4C241.3,326.9,237.7,323.3,233.2,323.3z M169.7,323.3h-30.4    c-4.5,0-8.1,3.6-8.1,8.1v30.4c0,4.5,3.6,8.1,8.1,8.1h30.4c4.5,0,8.1-3.6,8.1-8.1v-30.4C177.8,326.9,174.2,323.3,169.7,323.3z     M360.2,246.3c4.5,0,8.1-3.6,8.1-8.1v-30.4c0-4.5-3.6-8.1-8.1-8.1h-30.4c-4.5,0-8.1,3.6-8.1,8.1v30.4c0,4.5,3.6,8.1,8.1,8.1H360.2    z M47.7,435.9h230.7c-3.7-11.6-5.8-24-5.9-36.8H47.7c-6,0-10.8-4.9-10.8-10.8V171h361.7v101.1c12.8,0.1,25.2,2,36.8,5.7V94.9    c0-26.3-21.4-47.7-47.7-47.7h-53.4V17.8c0-9.6-7.8-17.4-17.4-17.4h-27.1c-9.6,0-17.4,7.8-17.4,17.4v29.5H163V17.8    c0-9.6-7.8-17.4-17.4-17.4h-27.1c-9.6,0-17.4,7.8-17.4,17.4v29.5H47.7C21.4,47.3,0,68.7,0,95v293.3C0,414.5,21.4,435.9,47.7,435.9    z M489.2,397.7c0,50.3-40.8,91.1-91.1,91.1S307,448,307,397.7s40.8-91.1,91.1-91.1S489.2,347.4,489.2,397.7z M444.1,374.1    c0-2.9-1.1-5.7-3.2-7.7c-4.3-4.3-11.2-4.3-15.5,0L385.8,406l-15.2-15.2c-4.3-4.3-11.2-4.3-15.5,0c-2.1,2.1-3.2,4.8-3.2,7.7    c0,2.9,1.1,5.7,3.2,7.7l22.9,22.9c4.3,4.3,11.2,4.3,15.5,0l47.3-47.3C443,379.8,444.1,377,444.1,374.1z"
                    />
                  </g>
                </g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
                <g></g>
              </svg>
              Calendar
            </h3>
            <hr />
          </div>
          <div class="calendar-content-container">
            <app-calendar></app-calendar>
          </div>
        </div>
      </article>
      <aside>
        <div *ngIf="msgChannels.length > 0" class="messagebox-holder">
          <ng-container *ngFor="let channel of msgChannels">
            <div class="messagebox">
              <div class="chat-header">
                <div class="chat-user">
                  <img
                    *ngIf="channel.length == 1"
                    src="{{ channel[0].avatarUrl }}"
                    class="sidebar-icon"
                    alt="avatar"
                  />
                  <p *ngIf="channel.length == 1" class="chat-name">
                    {{ channel[0].firstNames }}
                    {{ channel[0].lastName }}
                  </p>
                  <p *ngIf="channel.length > 1" class="chat-name">
                    <ng-container *ngFor="let recipient of channel">
                      {{ recipient.firstNames }}
                      {{ recipient.lastName }},
                    </ng-container>
                  </p>
                </div>

                <div class="btn-group">
                  <button
                    class="chat-btn"
                    (click)="closeMsgChannel(msgChannels.indexOf(channel))"
                  >
                    <svg class="chat-icon" viewBox="0 0 371.23 371.23">
                      <polygon
                        points="371.23,21.213 350.018,0 185.615,164.402 21.213,0 0,21.213 164.402,185.615 0,350.018 21.213,371.23   185.615,206.828 350.018,371.23 371.23,350.018 206.828,185.615 "
                      />
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                    </svg>
                  </button>
                </div>
              </div>
              <hr class="chat-rule" />
              <div class="chat-box">
                <ng-container
                  *ngFor="let msg of messages[msgChannels.indexOf(channel)]"
                >
                  <div
                    class="chat-bubble"
                    *ngIf="msg.senderId != user.organizationId"
                  >
                    <div class="chat-sender">{{ msg.senderUsername }}</div>
                    <div class="chat-content">{{ msg.content }}</div>
                    <div class="chat-time">{{ msg.messageSent }}</div>
                  </div>
                  <div
                    class="chat-bubble right"
                    *ngIf="msg.senderId == user.organizationId"
                  >
                    <div class="chat-content">{{ msg.content }}</div>
                    <div class="chat-time">{{ msg.messageSent }}</div>
                  </div>
                </ng-container>
              </div>
              <div class="msg-form-container">
                <hr class="chat-rule" />
                <form
                  [formGroup]="messageForm"
                  (ngSubmit)="
                    messageForm.valid &&
                      sendMessage(msgChannels.indexOf(channel))
                  "
                  class="msg-form"
                >
                  <button class="chat-btn msg">
                    <svg class="chat-icon msg" viewBox="0 0 24 24">
                      <g>
                        <g>
                          <g>
                            <path
                              d="M7.5,19.5c-0.8,0-1.5-0.3-2.1-0.9c-1.2-1.2-1.2-3.1,0-4.2c0.4-0.4,1-0.4,1.4,0c0.4,0.4,0.4,1,0,1.4c-0.4,0.4-0.4,1,0,1.4     c0.4,0.4,1,0.4,1.4,0c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4C9,19.2,8.2,19.5,7.5,19.5z"
                            />
                          </g>
                        </g>
                        <g>
                          <g>
                            <path
                              d="M20.2,13.3c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4c1.2-1.2,1.2-3.1,0-4.2c-1.1-1.1-3.1-1.1-4.2,0     c-0.4,0.4-1,0.4-1.4,0c-0.4-0.4-0.4-1,0-1.4C14.8,5,16,4.5,17.4,4.5S20,5,20.9,5.9c1.9,1.9,1.9,5.1,0,7.1     C20.7,13.2,20.4,13.3,20.2,13.3z"
                            />
                          </g>
                        </g>
                        <g>
                          <g>
                            <path
                              d="M6,16.1c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l8.5-8.5c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-8.5,8.5     C6.6,16,6.3,16.1,6,16.1z"
                            />
                          </g>
                        </g>
                        <g>
                          <g>
                            <path
                              stroke="#2D2D2D"
                              stroke-width="2"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-miterlimit="10"
                              d="M1.8,19.4"
                            />
                          </g>
                        </g>
                        <g>
                          <g>
                            <path
                              d="M11.7,21.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l8.5-8.5c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-8.5,8.5     C12.2,21.7,12,21.8,11.7,21.8z"
                            />
                          </g>
                        </g>
                        <g>
                          <g>
                            <path
                              d="M8.9,18.9c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l8.5-8.5c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-8.5,8.5     C9.4,18.9,9.1,18.9,8.9,18.9z"
                            />
                          </g>
                        </g>
                        <g>
                          <g>
                            <path
                              stroke="#2D2D2D"
                              stroke-width="2"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-miterlimit="10"
                              d="M4.6,22.2"
                            />
                          </g>
                        </g>
                        <g>
                          <g>
                            <path
                              d="M3.2,13.3c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4L13.8,0.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4L3.9,13     C3.7,13.2,3.5,13.3,3.2,13.3z"
                            />
                          </g>
                        </g>
                        <g>
                          <g>
                            <path
                              d="M7.5,23.5c-1.8,0-3.6-0.7-4.9-2c-1.3-1.3-2-3.1-2-4.9s0.7-3.6,2-4.9c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4     c-0.9,0.9-1.5,2.2-1.5,3.5c0,1.3,0.5,2.6,1.5,3.5c1.9,1.9,5.1,1.9,7.1,0c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4     C11,22.9,9.3,23.5,7.5,23.5z"
                            />
                          </g>
                        </g>
                      </g>
                    </svg>
                  </button>
                  <app-msg-input
                    [type]="'text'"
                    id="'cont'"
                    [formControl]="messageForm.controls['content']"
                    [label]="'content'"
                    [placeholder]="'Aa'"
                  ></app-msg-input>
                  <button type="submit" class="chat-btn msg">
                    <svg class="chat-icon msg" viewBox="0 0 512 512">
                      <path
                        d="M476.59,227.05l-.16-.07L49.35,49.84A23.56,23.56,0,0,0,27.14,52,24.65,24.65,0,0,0,16,72.59V185.88a24,24,0,0,0,19.52,23.57l232.93,43.07a4,4,0,0,1,0,7.86L35.53,303.45A24,24,0,0,0,16,327V440.31A23.57,23.57,0,0,0,26.59,460a23.94,23.94,0,0,0,13.22,4,24.55,24.55,0,0,0,9.52-1.93L476.4,285.94l.19-.09a32,32,0,0,0,0-58.8Z"
                      />
                    </svg>
                  </button>
                </form>
              </div>
            </div>
          </ng-container>
        </div>
      </aside>
    </main>
  </div>
</body>
